#!/usr/bin/env python3
"""
测试思考标签响应的脚本
用于验证前端对思考内容的渲染效果
"""

def test_thinking_response():
    """测试包含思考标签的响应"""
    
    # 模拟包含思考过程的响应内容
    test_responses = [
        {
            "message": "请用推理模式回答：2+2等于多少？",
            "expected_response": """<think>
用户问的是一个简单的数学问题：2+2等于多少？

这是基础的加法运算：
- 2 + 2 = 4

这是一个非常基础的算术问题，答案是确定的。
</think>

根据基础数学运算，2 + 2 = 4。

这是最基本的加法运算，结果是4。"""
        },
        {
            "message": "用推理模式解释为什么天空是蓝色的？",
            "expected_response": """<think>
这是一个关于光学和大气物理的问题。我需要解释瑞利散射现象：

1. 太阳光包含所有颜色的光（白光）
2. 当阳光进入大气层时，会与空气分子发生散射
3. 蓝光的波长较短，更容易被散射
4. 红光波长较长，散射较少，更容易直接穿透

所以我们看到的天空主要是被散射的蓝光。
</think>

天空呈现蓝色主要是由于瑞利散射现象：

1. **光的组成**：太阳光是由红、橙、黄、绿、蓝、靛、紫等各种颜色的光组成的白光。

2. **散射原理**：当阳光进入地球大气层时，会与空气中的小分子（主要是氮气和氧气）发生碰撞和散射。

3. **波长效应**：蓝光的波长较短（约450-495纳米），比红光（约620-750纳米）更容易被大气分子散射。

4. **视觉效果**：被散射的蓝光从各个方向射入我们的眼睛，所以我们看到天空是蓝色的。

这就是为什么天空在晴朗的白天呈现美丽的蓝色！"""
        }
    ]
    
    print("🧠 测试思考标签响应渲染效果")
    print("=" * 50)
    
    for i, test_case in enumerate(test_responses, 1):
        print(f"\n📝 测试案例 {i}:")
        print(f"用户消息: {test_case['message']}")
        print(f"\n🤖 AI响应 (包含思考过程):")
        print(test_case['expected_response'])
        print("\n" + "-" * 50)
    
    print("\n✅ 测试完成！")
    print("💡 前端应该能够:")
    print("   1. 识别 <think>...</think> 标签")
    print("   2. 将思考内容用暗色字体显示")
    print("   3. 用思考图标 🤔 替换 <think> 标签")
    print("   4. 给思考区域添加特殊的视觉效果")

if __name__ == "__main__":
    test_thinking_response()