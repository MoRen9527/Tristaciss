# Provideré…ç½®æŒ‡å—

## ğŸ—ï¸ æ¶æ„æ¦‚è¿°

æœ¬ç³»ç»Ÿé‡‡ç”¨å¤šProvideræ¶æ„ï¼Œæ”¯æŒåŒä¸€ä¸ªAIæ¨¡å‹é€šè¿‡ä¸åŒAPIè·¯å¾„è®¿é—®ï¼Œæä¾›æ›´å¥½çš„çµæ´»æ€§å’Œå¯ç”¨æ€§ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              FastAPI Layer              â”‚
â”‚         /api/stream?provider=xxx        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Provider Manager             â”‚
â”‚     â€¢ Route requests                    â”‚
â”‚     â€¢ Load configurations               â”‚
â”‚     â€¢ Handle model mapping              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚             â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ OpenRouter      â”‚   â”‚ OpenAI         â”‚
    â”‚ Provider        â”‚   â”‚ Provider       â”‚
    â”‚ â€¢ deepseek/     â”‚   â”‚ â€¢ deepseek-    â”‚
    â”‚   deepseek-r1   â”‚   â”‚   chat         â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ DeepSeekæ¨¡å‹çš„ä¸¤ç§è®¿é—®æ–¹å¼

### æ–¹å¼1ï¼šé€šè¿‡OpenRouter (æ¨èæ–°æ‰‹)
- **Provider**: OpenRouter
- **æ¨¡å‹åç§°**: `deepseek/deepseek-r1-0528:free`
- **ä¼˜åŠ¿**: å…è´¹ä½¿ç”¨ã€é…ç½®ç®€å•
- **é€‚ç”¨**: æµ‹è¯•å’Œè½»åº¦ä½¿ç”¨

### æ–¹å¼2ï¼šé€šè¿‡DeepSeekå®˜æ–¹API (æ¨èç”Ÿäº§)
- **Provider**: OpenAIå…¼å®¹API
- **æ¨¡å‹åç§°**: `deepseek-chat`
- **Base URL**: `https://api.deepseek.com/v1`
- **ä¼˜åŠ¿**: é€Ÿåº¦å¿«ã€ç¨³å®šæ€§é«˜
- **é€‚ç”¨**: ç”Ÿäº§ç¯å¢ƒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å‰ç«¯UIé…ç½® (æ¨è)

1. å¯åŠ¨åº”ç”¨åï¼Œç‚¹å‡»èŠå¤©ç•Œé¢å³ä¸Šè§’çš„âš™ï¸è®¾ç½®å›¾æ ‡
2. é€‰æ‹©"é…ç½®æŒ‡å—"æ ‡ç­¾é¡µæŸ¥çœ‹è¯¦ç»†è¯´æ˜
3. æ ¹æ®éœ€è¦é€‰æ‹©OpenRouteræˆ–DeepSeekç›´è¿
4. å¡«å†™APIé…ç½®å¹¶æµ‹è¯•è¿æ¥
5. ä¿å­˜è®¾ç½®

### 2. åç«¯ç¯å¢ƒå˜é‡é…ç½®

åœ¨ `api-server` ç›®å½•ä¸‹åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
# OpenRouteré…ç½®
OPENROUTER_API_KEY=sk-or-v1-xxx...

# DeepSeeké…ç½® (é€šè¿‡OpenAIå…¼å®¹æ¥å£)
OPENAI_API_KEY=sk-fe34348dced24f3da9dfcc38bcdf7734
OPENAI_BASE_URL=https://api.deepseek.com/v1
OPENAI_DEFAULT_MODEL=deepseek-chat
```

## ğŸ“‹ Providerå¯¹æ¯”

| Provider | æ¨¡å‹ | è´¹ç”¨ | é€Ÿåº¦ | é…ç½®éš¾åº¦ | æ¨èåœºæ™¯ |
|----------|------|------|------|----------|----------|
| OpenRouter | `deepseek/deepseek-r1-0528:free` | å…è´¹ | ä¸­ç­‰ | ç®€å• | æµ‹è¯•ã€å­¦ä¹  |
| DeepSeekç›´è¿ | `deepseek-chat` | æŒ‰é‡ä»˜è´¹ | å¿«é€Ÿ | ä¸­ç­‰ | ç”Ÿäº§ã€é«˜é¢‘ä½¿ç”¨ |

## ğŸ› ï¸ é…ç½®æ­¥éª¤è¯¦è§£

### OpenRouteré…ç½®
1. æ³¨å†Œ [OpenRouter](https://openrouter.ai) è´¦æˆ·
2. è·å–APIå¯†é’¥
3. åœ¨å‰ç«¯è®¾ç½®ä¸­å¡«å†™ï¼š
   - API Key: `sk-or-v1-xxx...`
   - Base URL: `https://openrouter.ai/api/v1` (é»˜è®¤)
   - é»˜è®¤æ¨¡å‹: `deepseek/deepseek-r1-0528:free`

### DeepSeekç›´è¿é…ç½®
1. æ³¨å†Œ [DeepSeek](https://deepseek.com) è´¦æˆ·
2. å®Œæˆå®åè®¤è¯å¹¶å……å€¼
3. è·å–APIå¯†é’¥
4. åœ¨å‰ç«¯è®¾ç½®ä¸­å¡«å†™ï¼š
   - API Key: `sk-xxx...`
   - Base URL: `https://api.deepseek.com/v1`
   - é»˜è®¤æ¨¡å‹: `deepseek-chat`

## ğŸ”§ æ•…éšœæ’é™¤

### Provideræ˜¾ç¤º"ç¦»çº¿"çŠ¶æ€
1. æ£€æŸ¥APIå¯†é’¥æ˜¯å¦æ­£ç¡®
2. ç¡®è®¤Base URLè®¾ç½®æ— è¯¯
3. éªŒè¯ç½‘ç»œè¿æ¥
4. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯

### æµ‹è¯•è¿æ¥å¤±è´¥
- **401é”™è¯¯**: APIå¯†é’¥æ— æ•ˆæˆ–è¿‡æœŸ
- **ç½‘ç»œé”™è¯¯**: æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦å¯åŠ¨
- **è¶…æ—¶**: ç½‘ç»œè¿æ¥ä¸ç¨³å®š

### æ¨¡å‹è°ƒç”¨å¤±è´¥
- ç¡®è®¤é€‰æ‹©çš„æ¨¡å‹åœ¨å¯¹åº”Providerä¸­å¯ç”¨
- æ£€æŸ¥APIé…é¢æ˜¯å¦å……è¶³
- éªŒè¯æ¨¡å‹åç§°æ‹¼å†™æ­£ç¡®

## ğŸ“š APIæ–‡æ¡£å‚è€ƒ

- [OpenRouter APIæ–‡æ¡£](https://openrouter.ai/docs)
- [DeepSeek APIæ–‡æ¡£](https://platform.deepseek.com/api-docs)
- [OpenAI APIæ–‡æ¡£](https://platform.openai.com/docs/api-reference)

## ğŸ”„ æ›´æ–°æ—¥å¿—

- **Phase 1**: å®ç°å¤šProvideræ¶æ„å’ŒAPIä»£ç†å±‚
- **Phase 2**: å®Œæˆå‰ç«¯Provideré€‰æ‹©å™¨å’Œé…ç½®ç•Œé¢
- **å½“å‰ç‰ˆæœ¬**: æ”¯æŒOpenRouterå’ŒDeepSeekåŒè·¯å¾„è®¿é—®

---

*æœ€åæ›´æ–°: 2025å¹´1æœˆ26æ—¥*