# ğŸš€ Tristaciss éƒ¨ç½²éªŒè¯æ¸…å•

## âœ… ä»“åº“ä¿¡æ¯éªŒè¯
- **GitHubä»“åº“**: https://github.com/MoRen9527/Tristaciss âœ…
- **é¡¹ç›®åç§°**: Tristaciss âœ…
- **éƒ¨ç½²ç›®å½•**: /opt/tristaciss âœ…

## ğŸ“‹ ä¸€é”®éƒ¨ç½²éªŒè¯

### æ–¹å¼ä¸€ï¼šGitå…‹éš†éƒ¨ç½²ï¼ˆæ¨èï¼‰
```bash
# 1. ç™»å½•æœåŠ¡å™¨
ssh root@47.245.122.61

# 2. å…‹éš†é¡¹ç›®ä»£ç 
cd /opt
git clone https://github.com/MoRen9527/Tristaciss.git tristaciss
cd tristaciss

# 3. ä¸€é”®éƒ¨ç½²
chmod +x quick-deploy.sh
./quick-deploy.sh
```

### éªŒè¯ç‚¹ï¼š
- âœ… GitHubä»“åº“åœ°å€æ­£ç¡®
- âœ… å…‹éš†åˆ°æ­£ç¡®ç›®å½• `/opt/tristaciss`
- âœ… quick-deploy.sh è„šæœ¬å­˜åœ¨ä¸”å¯æ‰§è¡Œ

## ğŸ”§ è„šæœ¬é…ç½®éªŒè¯

### quick-deploy.sh å…³é”®é…ç½®ï¼š
- âœ… ä»“åº“URL: `https://github.com/MoRen9527/Tristaciss.git`
- âœ… é¡¹ç›®ç›®å½•: `/opt/tristaciss`
- âœ… è‡ªåŠ¨å®‰è£…Dockerå’ŒDocker Compose
- âœ… è‡ªåŠ¨é…ç½®é˜²ç«å¢™ç«¯å£ (80, 443, 8008)

### éƒ¨ç½²æµç¨‹ï¼š
1. âœ… æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒ
2. âœ… æ›´æ–°ç³»ç»ŸåŒ…
3. âœ… å®‰è£…Docker
4. âœ… å®‰è£…Docker Compose
5. âœ… é…ç½®é˜²ç«å¢™
6. âœ… è®¾ç½®é¡¹ç›®ç›®å½•
7. âœ… ä¸‹è½½é¡¹ç›®ä»£ç 
8. âœ… éƒ¨ç½²åº”ç”¨
9. âœ… å¥åº·æ£€æŸ¥
10. âœ… åˆ›å»ºç®¡ç†è„šæœ¬

## ğŸ³ Dockeré…ç½®éªŒè¯

### docker-compose.ymlï¼š
- âœ… åç«¯å®¹å™¨å: `tristaciss-backend`
- âœ… å‰ç«¯å®¹å™¨å: `tristaciss-frontend` (å†…å«Nginx)
- âœ… ç½‘ç»œåç§°: `tristaciss-network`
- âœ… ç«¯å£æ˜ å°„: 80:80, 443:443

### ğŸ’¡ å°ç™½è¯´æ˜ï¼š
- **Dockerä¼šè‡ªåŠ¨å®‰è£…Nginx** - ä½ ä¸éœ€è¦æ‰‹åŠ¨å®‰è£…
- **Nginxåœ¨å‰ç«¯å®¹å™¨å†…è¿è¡Œ** - ç”¨äºæœåŠ¡ç½‘é¡µå’Œè½¬å‘APIè¯·æ±‚
- **ä¸€é”®éƒ¨ç½²ä¼šå¤„ç†æ‰€æœ‰é…ç½®** - ä½ åªéœ€è¦è¿è¡Œå‘½ä»¤

## ğŸ“ ç›®å½•ç»“æ„éªŒè¯

éƒ¨ç½²åçš„ç›®å½•ç»“æ„ï¼š
```
/opt/tristaciss/
â”œâ”€â”€ api-server/          # åç«¯ä»£ç 
â”œâ”€â”€ avatar-react/        # å‰ç«¯ä»£ç 
â”œâ”€â”€ docker-compose.yml   # Dockerç¼–æ’æ–‡ä»¶
â”œâ”€â”€ Dockerfile.backend   # åç«¯é•œåƒæ„å»º
â”œâ”€â”€ Dockerfile.frontend  # å‰ç«¯é•œåƒæ„å»º
â”œâ”€â”€ nginx.conf          # Nginxé…ç½® (Dockerè‡ªåŠ¨ä½¿ç”¨)
â”œâ”€â”€ quick-deploy.sh     # å¿«é€Ÿéƒ¨ç½²è„šæœ¬
â”œâ”€â”€ deploy.sh           # æ ‡å‡†éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ pre-deploy-check.sh # éƒ¨ç½²å‰æ£€æŸ¥
â””â”€â”€ logs/               # æ—¥å¿—ç›®å½•
```

## ğŸŒ ç½‘ç»œè®¿é—®éªŒè¯

éƒ¨ç½²å®Œæˆåè®¿é—®ï¼š
- **å‰ç«¯ç½‘é¡µ**: http://47.245.122.61 (Nginxè‡ªåŠ¨æœåŠ¡)
- **åç«¯API**: http://47.245.122.61/api (Nginxè‡ªåŠ¨è½¬å‘)
- **å¥åº·æ£€æŸ¥**: http://47.245.122.61:8008/health

### ğŸ’¡ å°ç™½è¯´æ˜ï¼š
- ä½ åªéœ€è¦è®¿é—® `http://47.245.122.61` å°±èƒ½çœ‹åˆ°ç½‘ç«™
- Nginxä¼šè‡ªåŠ¨å¤„ç†é¡µé¢æ˜¾ç¤ºå’ŒAPIè¯·æ±‚
- ä¸éœ€è¦è®°ä½å¤æ‚çš„ç«¯å£å·

## ğŸ” æ•…éšœæ’æŸ¥

å¦‚æœéƒ¨ç½²å¤±è´¥ï¼Œæ£€æŸ¥ï¼š
1. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
2. DockeræœåŠ¡æ˜¯å¦å¯åŠ¨
3. ç«¯å£æ˜¯å¦è¢«å ç”¨
4. ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³
5. å†…å­˜æ˜¯å¦å……è¶³

## ğŸ“ å¿«é€Ÿéƒ¨ç½²å‘½ä»¤

```bash
# ä¸€é”®éƒ¨ç½²å‘½ä»¤
curl -fsSL https://raw.githubusercontent.com/MoRen9527/Tristaciss/main/quick-deploy.sh | bash
```

## âœ¨ éªŒè¯ç»“æœ

- [x] æ‰€æœ‰è·¯å¾„å’Œåç§°å·²ç»Ÿä¸€ä¸º `tristaciss`
- [x] GitHubä»“åº“åœ°å€å·²æ›´æ–°ä¸ºæ­£ç¡®åœ°å€
- [x] Dockerå®¹å™¨å’Œç½‘ç»œå‘½åå·²ç»Ÿä¸€
- [x] éƒ¨ç½²è„šæœ¬é…ç½®æ­£ç¡®
- [x] æ–‡æ¡£è·¯å¾„å¼•ç”¨æ­£ç¡®

ğŸ‰ **éƒ¨ç½²æ–¹æ¡ˆéªŒè¯å®Œæˆï¼Œå¯ä»¥è¿›è¡Œä¸€é”®éƒ¨ç½²ï¼**

## ğŸ”° å°ç™½ç”¨æˆ·é¡»çŸ¥

### â“ å¸¸è§ç–‘é—®è§£ç­”ï¼š

**Q: Dockeréƒ¨ç½²è¿˜éœ€è¦å®‰è£…Nginxå—ï¼Ÿ**
A: ä¸éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Dockerä¼šè‡ªåŠ¨åœ¨å®¹å™¨å†…è¿è¡ŒNginxã€‚

**Q: ä¸ºä»€ä¹ˆéœ€è¦Nginxï¼Ÿ**
A: Nginxè´Ÿè´£ï¼š
- æ˜¾ç¤ºç½‘é¡µç»™ç”¨æˆ·
- è½¬å‘APIè¯·æ±‚åˆ°åç«¯
- æä¾›ç”Ÿäº§çº§æ€§èƒ½

**Q: æˆ‘éœ€è¦é…ç½®ä»€ä¹ˆå—ï¼Ÿ**
A: ä¸éœ€è¦ï¼ä¸€é”®éƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨é…ç½®æ‰€æœ‰å†…å®¹ã€‚

**Q: æˆ‘éœ€è¦åˆ›å»ºérootç”¨æˆ·å—ï¼Ÿ**
A: æ¨èåˆ›å»ºï¼Œä½†è¯¥ç”¨æˆ·éœ€è¦sudoæƒé™ã€‚è¯¦è§ `ç”¨æˆ·æƒé™éƒ¨ç½²æŒ‡å—.md`ã€‚

**Q: éƒ¨ç½²å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: æŸ¥çœ‹ `Dockerä¸Nginxéƒ¨ç½²è¯´æ˜.md` äº†è§£è¯¦ç»†æ¶æ„ã€‚

### ğŸš€ å¯¹å°ç™½æœ€å‹å¥½çš„éƒ¨ç½²æ–¹å¼ï¼š

#### æ–¹å¼ä¸€ï¼šå®‰å…¨éƒ¨ç½²ï¼ˆæ¨èï¼‰
```bash
# 1. ä»¥rootèº«ä»½ç™»å½•æœåŠ¡å™¨
ssh root@47.245.122.61

# 2. åˆ›å»ºéƒ¨ç½²ç”¨æˆ·
adduser deploy
passwd deploy
usermod -aG sudo deploy

# 3. åˆ‡æ¢ç”¨æˆ·å¹¶éƒ¨ç½²
su - deploy
curl -fsSL https://raw.githubusercontent.com/MoRen9527/Tristaciss/main/quick-deploy.sh | bash
```

#### æ–¹å¼äºŒï¼šå¿«é€Ÿéƒ¨ç½²ï¼ˆç®€å•ä½†ä¸æ¨èï¼‰
```bash
# ç›´æ¥ç”¨rootè¿è¡Œï¼Œå½“è„šæœ¬æç¤ºæ—¶è¾“å…¥ 'y' ç»§ç»­
ssh root@47.245.122.61
curl -fsSL https://raw.githubusercontent.com/MoRen9527/Tristaciss/main/quick-deploy.sh | bash
```

**è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ï¼š`ç”¨æˆ·æƒé™éƒ¨ç½²æŒ‡å—.md`** ğŸ‰